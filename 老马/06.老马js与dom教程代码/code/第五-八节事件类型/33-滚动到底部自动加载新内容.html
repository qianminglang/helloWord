<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>33-滚动到底部自动加载新内容</title>
  <script src="../js/documentReady.js"></script>
  <script>
    document.myReady(function(){
      window.onscroll = function() {
        // 拿到滚动的距离
        var scrollH = document.documentElement.scrollTop || document.body.scrollTop;
        // 整个网页的高度
        var pageH = document.body.clientHeight;

        // 拿到整个视口的高度。
        var viewportH = document.documentElement.clientHeight;

        // 底部剩余的高度 = 整个网页高度- 滚动高度-视口高度
        var bottomH = pageH - scrollH - viewportH;
        if( bottomH < 50 ) {
          var list = document.getElementById('list');
          var tempStr = "";
          for(var i = 0; i <10; i++) {
            tempStr += '<li>'+ new Date()+'</li>';
          }
          list.innerHTML += tempStr;
        }
      };
    });
  </script>
</head>
<body>
  <ul id="list">
    <li>1</li>
    <li>2</li>
    <li>3</li>
    <li>4</li>
    <li>5</li>
    <li>6</li>
    <li>7</li>
    <li>8</li>
    <li>9</li>
    <li>10</li>
    <li>11</li>
    <li>12</li>
    <li>13</li>
    <li>14</li>
    <li>15</li>
    <li>16</li>
    <li>17</li>
    <li>18</li>
    <li>19</li>
    <li>20</li>
    <li>21</li>
    <li>22</li>
    <li>23</li>
    <li>24</li>
    <li>25</li>
    <li>26</li>
    <li>27</li>
    <li>28</li>
    <li>29</li>
    <li>30</li>
    <li>31</li>
    <li>32</li>
    <li>33</li>
    <li>34</li>
    <li>35</li>
    <li>36</li>
    <li>37</li>
    <li>38</li>
    <li>39</li>
    <li>40</li>
  </ul>
</body>
</html>
